{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function search(q) {\n    const options = new URLSearchParams({\n        key: \"44067044-e8359f631c20f41f339c4060c\",\n        q: q,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\",\n    });\n\n  return fetchSearch(options)\n};\n\nfunction fetchSearch(options) {\n    return fetch(`https://pixabay.com/api/?${options}`)\n    .then(\n      (response) => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      }\n    );\n  }","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nexport function errorMassage() {\n    iziToast.show({\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n        position: 'topRight',\n        backgroundColor: 'rgb(239, 64, 64)',\n        theme: 'dark',\n    });\n}\n\n\nexport function renderGallery(images, gallery) {\n    \n    const galleryArr = [];\n    images.hits.forEach(image => {\n        galleryArr.push( `\n                <li class=\"gallery-item\">\n                    <div class=\"gallerys\">\n                        <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                            <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n                        </a>\n                    </div>\n                    <div class=\"gallery-item-description\">\n                        <ul class=\"gallery-item-list\">\n                            <li class=\"gallery-item-list-item\">\n                                <h3>likes</h3>\n                                <p>${image.likes}</p>\n                            </li>\n                            <li class=\"gallery-item-list-item\">\n                                <h3>views</h3>\n                                <p>${image.views}</p>\n                                </li>\n                            <li class=\"gallery-item-list-item\">\n                                <h3>comments</h3>\n                                <p>${image.comments}</p>\n                            </li>\n                            <li class=\"gallery-item-list-item\">\n                                <h3>downolads</h3>\n                                <p>${image.downloads}</p>\n                            </li>\n                        </ul>\n                    </div>\n                </li>`\n            )\n    });\n    const addGallery = `${galleryArr.join('')}`;\n    gallery.innerHTML = addGallery;\n}\n","const form = document.querySelector(\".search-form\");\nconst gallery = document.querySelector(\".gallery-list\");\nconst loader = document.querySelector(\"#loader\");\nlet galleryList = document.querySelector(\".gallerys\");\n\nimport {search} from \"./js/pixabay-api\";\nimport {errorMassage} from \"./js/render-functions\";\nimport {renderGallery} from \"./js/render-functions\";\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.css';\n\nform.addEventListener(\"submit\", event => {\n    event.preventDefault();\n    gallery.innerHTML = \"\";\n    loader.style.display = \"block\";\n    const q = form.elements.searchItem.value.replace(\" \", \"+\");\n    search(q).then(\n        (images) => {\n            loader.style.display = \"none\";\n            if(images.hits.length != 0) {\n                renderGallery(images, gallery);\n                galleryList.refresh();\n            }else{\n                errorMassage();\n            }\n        }\n    )\n    .catch((error) => console.log(`error ${error}`));\n\n})\n\ngalleryList = new SimpleLightbox('.gallerys a', {\n    captionDelay: 200,\n  });\n"],"names":["search","q","options","fetchSearch","response","errorMassage","iziToast","renderGallery","images","gallery","galleryArr","image","addGallery","form","loader","galleryList","event","error","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAAOC,EAAG,CACtB,MAAMC,EAAU,IAAI,gBAAgB,CAChC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAEH,OAAOE,EAAYD,CAAO,CAC5B,CAEA,SAASC,EAAYD,EAAS,CAC1B,OAAO,MAAM,4BAA4BA,CAAO,EAAE,EACjD,KACEE,GAAa,CACZ,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACjB,CACP,CACA,CClBO,SAASC,GAAe,CAC3BC,EAAS,KAAK,CACV,QAAS,2EACT,SAAU,WACV,gBAAiB,mBACjB,MAAO,MACf,CAAK,CACL,CAGO,SAASC,EAAcC,EAAQC,EAAS,CAE3C,MAAMC,EAAa,CAAA,EACnBF,EAAO,KAAK,QAAQG,GAAS,CACzBD,EAAW,KAAM;AAAA;AAAA;AAAA,wDAG+BC,EAAM,aAAa;AAAA,8DACbA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAO/DA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,qCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,qCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,qCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,sBAKvC,CACb,CAAK,EACD,MAAMC,EAAa,GAAGF,EAAW,KAAK,EAAE,CAAC,GACzCD,EAAQ,UAAYG,CACxB,CClDA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CJ,EAAU,SAAS,cAAc,eAAe,EAChDK,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAAc,SAAS,cAAc,WAAW,EAQpDF,EAAK,iBAAiB,SAAUG,GAAS,CACrCA,EAAM,eAAc,EACpBP,EAAQ,UAAY,GACpBK,EAAO,MAAM,QAAU,QACvB,MAAMb,EAAIY,EAAK,SAAS,WAAW,MAAM,QAAQ,IAAK,GAAG,EACzDb,EAAOC,CAAC,EAAE,KACLO,GAAW,CACRM,EAAO,MAAM,QAAU,OACpBN,EAAO,KAAK,QAAU,GACrBD,EAAcC,EAAQC,CAAO,EAC7BM,EAAY,QAAO,GAEnBV,GAEP,CACJ,EACA,MAAOY,GAAU,QAAQ,IAAI,SAASA,CAAK,EAAE,CAAC,CAEnD,CAAC,EAEDF,EAAc,IAAIG,EAAe,cAAe,CAC5C,aAAc,GAClB,CAAG"}